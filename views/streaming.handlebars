<!doctype html>
<html>
<head>
    <title>Hosting</title>
    <!-- Default Header -->
    {{> default}}
    <!-- End Default Header -->
    <link href="/css/host.css" rel="stylesheet">    
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="/js/host.js"></script>
<!--     <style type="text/css"> 
    #friendName{
        color: #000080; 
    }
</style> -->
</head>
<body>   
    <center>
        <p id="chillin"></p>
        <script>
            console.log("song is:" + sessionStorage.songs);
        </script>
        <div id="titleBar">
            <a href="stream">
                <div id="back-container">
                    <h1 class="display-4"><</h1>
                </div>
            </a>
            <div id="title-container">
                <h1 id="title">Streaming</h1>
            </div>
        </div>
        <div id="middle2">
            <div id="instructions" >
                <p class="lead on-air" id="instructions-txt"></p>
                <p class="lead" id="instructions-txt-id"></p>
            </div>

            <div id="top-buttons"></div>

            <div id="albumArt">
                <img src="/img/album.png" id="img">
                <script>
                    if((sessionStorage.hostCode).length > 3){
                        document.getElementById("img").src = sessionStorage.getItem("songImg"+sessionStorage.hostCode);
                    } else {

                        document.getElementById("img").src = "/img/5.png";
                    }
                </script>
            </div>

        </div>

        <div id="bottomPlayer">
            <div id="songInfo">

                <h1 class="display-4" id="songTitle">
                </h1>
                <p class="lead" id="songDet">
                </p>


                <script>
                    if((sessionStorage.hostCode).length > 3){
                        console.log("host code inside is: " +sessionStorage.hostCode)
                        var sessionID = sessionStorage.hostCode;
                        var input = 'artist'+ sessionID;
                        console.log("input1: " +  input);
                        var artist = sessionStorage.getItem(input);
                        input = 'album'+ sessionID;
                        console.log("input2: " +  input);
                        var album = sessionStorage.getItem(input);

                        input = 'song' + sessionID;

                        console.log("input3: " +  input);
                        console.log("input is: " + 'songList' + sessionStorage.songs);
                        var title = sessionStorage.getItem(input);
                        console.log("title is: " + title);

                        document.getElementById("songTitle").innerHTML=title;

                        console.log("It works: "+ artist);
                        document.getElementById("songDet").innerHTML = artist + " - " + album;
                    } else {
                        document.getElementById("songTitle").innerHTML=sessionStorage.title5;
                        document.getElementById("songDet").innerHTML = sessionStorage.artist5 + " - " + sessionStorage.album5;
                    }
                </script>
            </div>
            <div id="audio2">
                <audio controls id="crt" autoplay>
                    <source src="/songs/5.mp3" type="audio/mpeg" id="player">
                    </audio>
                    <script>
                        console.log('nullcheck for stream');
                        console.log(sessionStorage.hostCode);
                        if((sessionStorage.hostCode).length > 3){
                            document.getElementById("player").src = "/songs/" + sessionStorage.getItem("songID"+sessionStorage.hostCode) + ".mp3";
                        }
                        
                    </script>
                </div>


                <div id="playerControls">
                    <!-- <div id="playerButtons" class="btn-group-lg" role="group" aria-label="Basic example">
                        <div id="prevContainer">
                            <button type="button" class="btn btn-secondary" id="player-btn-prev">l◄</button>
                        </div>
                        <div id="pauseContainer">
                            <button type="button" class="btn btn-secondary" id="player-btn-pause">II</button>
                        </div>

                        <div id="nextContainer">
                            <button type="button" class="btn btn-secondary" id="player-btn-next">►l</button>
                        </div>
                    </div> -->
                </div>

<!--                 <script>
                    if(sessionStorage.songs >= 11){
                        document.getElementById('player-btn-next').disabled = true;
                    }
                    if(sessionStorage.songs <= 1){
                        document.getElementById('player-btn-prev').disabled = true;
                    }
                </script> -->

            </div>





<!--             <form name="myForm" id="hosting-form" role="form" method="get" action="/add">

                <input type="text" name="hostName">
                <input type="text" name="hostCode">
                <input type="text" name="hostPic">
                <input type="text" name="songTitle">
                <input type="text" name="artist">
                <input type="text" name="album">
                <input type="text" name="songImg">
                <input type="text" name="songID">
                <input type="text" name="friends">

            </form>
            <script>
                document.forms["myForm"]["hostName"].value = "New User";
                document.forms["myForm"]["hostCode"].value = sessionStorage.sessionID;
                document.forms["myForm"]["hostPic"].value = "/img/filler_profile.png";
                document.forms["myForm"]["songTitle"].value = sessionStorage.songsTitle;
                document.forms["myForm"]["artist"].value = sessionStorage.songsArtist;
                document.forms["myForm"]["album"].value = sessionStorage.songsAlbum;
                document.forms["myForm"]["songImg"].value = sessionStorage.songImg;
                document.forms["myForm"]["songID"].value = sessionStorage.songs;
                document.forms["myForm"]["friends"].value = sessionStorage.friends; 
            </script> -->
<!-- 
            "name": "Clark",
            "Code": "A1377X",
            "hostPic": "/img/clark-kent.jpg",
            "songTitle": "Better Now",
            "artist": "Post Malone",
            "album": "beerbongs & bentleys",
            "songImg": "/img/10.png",
            "songID": "10",
            "friends": "1,2,3,6" -->





        </center>

        <script>
            function added() {
              document.getElementById("addFont").innerHTML = "Added";
              $("#addFont").css("background-color", "lightgreen");
              $("#addList").css("left", "50%");
          }
          function invited(){
            document.getElementById("inviteText").innerHTML = "Invited";
            $("#inviteFriend").css("background-color", "lightgreen");
        }
    </script>


    <script>
      if (typeof(Storage) !== "undefined") {
        var storaged = sessionStorage.hello;
        console.log(storaged);
    } else {
        console.log("Sorry, your browser does not support web storage...");
    }


    document.getElementById("instructions-txt").innerHTML = "You session ID: " + sessionStorage.hostCode;



    if((sessionStorage.hostCode).length < 3){
        document.getElementById("instructions-txt").innerHTML = "You session ID: 000000";
    } else {
            var input = "host" + sessionStorage.hostCode;
    document.getElementById("instructions-txt-id").innerHTML = sessionStorage.getItem(input) + "'s Session";
}    document.getElementById("instructions-txt").style.fontWeight = "900";

    document.getElementById("instructions-txt").style.color = "green";
</script>

</body>
</html>



